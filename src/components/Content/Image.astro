---
import { Picture } from 'astro:assets';
import { cn } from '@lib/cn';

interface Props {
	src: string;
	description?: string;
	alt: string;
	eager?: boolean;
	height?: number;
	width?: number;
}

const { src, alt, description, eager, width, height } = Astro.props;
---

<figure
	class={cn(
		'flex flex-col justify-center rounded-lg border-2 border-dark dark:border-light bg-light dark:bg-dark'
	)}
>
	<!-- @ts-ignore -->
	<Picture
		{src}
		{alt}
		{width}
		{height}
		loading={eager ? 'eager' : 'lazy'}
		formats={['avif', 'webp', 'jpg']}
		pictureAttributes={{ class: cn('flex justify-center') }}
		class={cn('rounded-t-md')}
	/>
	<figcaption class={cn('p-2 text-center bg-lightHighlight dark:bg-darkHighlight rounded-b-lg')}>
		{description ?? alt}
	</figcaption>
</figure>
